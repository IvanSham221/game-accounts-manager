<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏ - –ú–µ–Ω–µ–¥–∂–µ—Ä –∏–≥—Ä–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤</title>
    <link rel="stylesheet" href="style.css?v=20250115">
</head>
<body>
    <div class="container">
        <h1><span>üéØ</span><span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏</span></h1>
        
        <div class="nav-buttons"></div>

        <!-- –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –°–ï–ö–¶–ò–Ø -->
        <div class="section">
            <h2>‚ûï –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É</h2>
            <div class="form-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                <div>
                    <label for="gameName" style="display: block; margin-bottom: 8px; font-weight: 600; color: #2d3748;">
                        –ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã:
                    </label>
                    <input type="text" id="gameName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã" class="input" required>
                </div>
                
                <div>
                    <label for="gameUrlTR" style="display: block; margin-bottom: 8px; font-weight: 600; color: #2d3748;">
                        üáπüá∑ –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç—É—Ä–µ—Ü–∫–∏–π PS Store:
                    </label>
                    <input type="text" id="gameUrlTR" 
                           placeholder="https://store.playstation.com/tr-tr/product/..." 
                           class="input">
                    <div style="font-size: 0.85em; color: #64748b; margin-top: 5px;">
                        –ü—Ä–∏–º–µ—Ä: https://store.playstation.com/tr-tr/product/EP0001-CUSA12345_00-GAMENAME
                    </div>
                </div>
                
                <div>
                    <label for="gameUrlUA" style="display: block; margin-bottom: 8px; font-weight: 600; color: #2d3748;">
                        üá∫üá¶ –°—Å—ã–ª–∫–∞ –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π PS Store:
                    </label>
                    <input type="text" id="gameUrlUA" 
                           placeholder="https://store.playstation.com/uk-ua/product/..." 
                           class="input">
                    <div style="font-size: 0.85em; color: #64748b; margin-top: 5px;">
                        –ü—Ä–∏–º–µ—Ä: https://store.playstation.com/uk-ua/product/EP0001-CUSA12345_00-GAMENAME
                    </div>
                </div>
                
                <div style="grid-column: 1 / -1;">
                    <button onclick="addGame()" class="btn btn-primary" style="width: 100%; padding: 16px;">
                        üéÆ –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É
                    </button>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üìö –°–ø–∏—Å–æ–∫ –∏–≥—Ä</h2>
            <!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ -->
    <div style="margin-bottom: 20px;">
        <input type="text" id="searchGamesInput" 
               placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–≥—Ä—ã..." 
               class="input" 
               style="width: 100%;"
               oninput="searchGamesList()">
        <div style="font-size: 0.85em; color: #64748b; margin-top: 5px;">
            –ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
        </div>
    </div>
            <div id="gamesList" class="list"></div>
        </div>
    </div>
    
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ -->
    <div id="syncIndicator" style="position: fixed; bottom: 20px; right: 20px; background: #4361ee; color: white; padding: 10px 15px; border-radius: 20px; font-size: 12px; display: none; z-index: 9999;">
        üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="firebase.js"></script>
    <script src="security.js"></script>
    <script src="script.js?v=20250115"></script>
    <script src="autocomplete.js"></script>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä—ã -->
<div id="editGameModal" class="modal">
    <div class="modal-content" style="max-width: 600px;">
        <span class="close" onclick="closeGameModal()">&times;</span>
        <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É</h2>
        <div id="editGameForm" class="form-grid"></div>
    </div>
</div>
    
    <script>

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function closeGameModal() {
    document.getElementById('editGameModal').style.display = 'none';
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–∫–Ω–∞
window.addEventListener('click', function(event) {
    const modal = document.getElementById('editGameModal');
    if (event.target === modal) {
        closeGameModal();
    }
});
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–≥—Ä
        document.addEventListener('DOMContentLoaded', function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
            const syncIndicator = document.getElementById('syncIndicator');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
            setInterval(() => {
                const freshGames = JSON.parse(localStorage.getItem('games')) || [];
                const currentGames = window.games || [];
                
                if (JSON.stringify(freshGames) !== JSON.stringify(currentGames)) {
                    console.log('üéÆ –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
                    syncIndicator.style.display = 'block';
                    syncIndicator.textContent = 'üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä...';
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
                    window.games = freshGames;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    setTimeout(() => {
                        if (typeof displayGames === 'function') {
                            displayGames();
                            
                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                            if (typeof showNotification === 'function') {
                                showNotification('–°–ø–∏—Å–æ–∫ –∏–≥—Ä –æ–±–Ω–æ–≤–ª–µ–Ω!', 'info', 2000);
                            }
                            
                            // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
                            setTimeout(() => {
                                syncIndicator.style.display = 'none';
                            }, 2000);
                        }
                    }, 500);
                }
            }, 2000);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ–≤ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
            if (typeof loadGamesForSelect === 'function') {
                setInterval(() => {
                    loadGamesForSelect();
                }, 5000);
            }
        });
    </script>
    
    <style>
        #syncIndicator {
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
    </style>
</body>
</html>